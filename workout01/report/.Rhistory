knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
knitr::include_graphics('../images/gsw-shot-charts.png')
data_types = c("team_name"="character", "game_date"="character", "season" = "integer", "period"="integer",
"minutes_remaining"="integer", "seconds_remaining"="integer", "shot_made_flag"="character",
"action_type"="factor", "shot_type"="factor", "shot_distance"="integer", "opponent"="character",
"x"="integer", "y"="integer")
shots <- read.csv("../data/shots-data.csv", stringsAsFactors = FALSE, colClasses = data_types)
shots
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
row.names(shots)
col.names(shots)
colnames(shots)
shots["name"]
colnames(shots)
summarise(shots, group_by(name))
summarise(shots, group_by(shots$name))
summarise(shots, group_by(shots$names))
summarise(group_by(shots, names))
summarise(group_by(shots, name))
colnames(shots)
summarise(group_by(shots, name), total = sum(*))
summarise(group_by(shots, name), total = count())
summarise(group_by(shots, name), total = count(shot_type))
summarise(group_by(shots, name), total = n(shot_type))
summarise(group_by(shots, name), total = n())
summarise(group_by(shots, name), total = n())
data_types = c("team_name"="character", "game_date"="character", "season" = "integer", "period"="integer",
"minutes_remaining"="integer", "seconds_remaining"="integer", "shot_made_flag"="character",
"action_type"="factor", "shot_type"="factor", "shot_distance"="integer", "opponent"="character",
"x"="integer", "y"="integer")
shots <- read.csv("../data/shots-data.csv", stringsAsFactors = FALSE, colClasses = data_types)
effective_2pt <- summarise(group_by(shots, name), total = n())
effective_2pt
colnames(shots)
shots["shot_made_flag"]
colnames(shots)
summarise(group_by(shots[shots$shot_made_flag=="shot_yes"], name), made = n())
summarise(group_by(shots[shots['shot_made_flag']=="shot_yes"], name), made = n())
shots[shots['shot_made_flag']=="shot_yes"]
shots['shot_made_flag']=="shot_yes"
shots[shots['shot_made_flag']=="shot_yes",]
summarise(group_by(shots[shots['shot_made_flag']=="shot_yes",], name), made = n())
summarise(group_by(shots[shots['shot_made_flag']=="shot_yes",], name), made = n())
data_types = c("team_name"="character", "game_date"="character", "season" = "integer", "period"="integer",
"minutes_remaining"="integer", "seconds_remaining"="integer", "shot_made_flag"="character",
"action_type"="factor", "shot_type"="factor", "shot_distance"="integer", "opponent"="character",
"x"="integer", "y"="integer")
shots <- read.csv("../data/shots-data.csv", stringsAsFactors = FALSE, colClasses = data_types)
effective_2pt <- summarise(group_by(shots, name), total = n())
made_2pt = summarise(group_by(shots[shots['shot_made_flag']=="shot_yes",], name), made = n())
effective_2pt["made" = made_2pt]
effective_2pt[made = made_2pt]
effective_2pt$made = made_2pt
effective_2pt
df[3]
df[c(3))]
effective_2pt[3]
effective_2pt = effective_2pt[-3]
effective_2pt
summarise(group_by(shots, name), total = n(), made = length(shots[shots['shot_made_flag']=="shot_yes"])
)
summarise(group_by(shots, name), total = n(), made = length(shots[shots['shot_made_flag']=="shot_yes"],))
summarise(group_by(shots, name), total = n(), made = length(shots[shots['shot_made_flag']=="shot_yes",]))
shots[shots['shot_made_flag']=="shot_yes",]
shots[shots['shot_made_flag']=="shot_yes",]["name"]
summarise(group_by(shots, name), total = n(), made = n(shots[shots['shot_made_flag']=="shot_yes",])
)
)
effective_2pt
?whgich
?which
summarise(group_by(shots, name), total = n(), made = length(which(shot_type == "2PT Field Goal"&shot_made_flag == "shot_yes")), perc_made = made/total)
length(which(shot_type == "2PT Field Goal"&shot_made_flag == "shot_yes"))
data_types = c("team_name"="character", "game_date"="character", "season" = "integer", "period"="integer",
"minutes_remaining"="integer", "seconds_remaining"="integer", "shot_made_flag"="character",
"action_type"="factor", "shot_type"="factor", "shot_distance"="integer", "opponent"="character",
"x"="integer", "y"="integer")
shots <- read.csv("../data/shots-data.csv", stringsAsFactors = FALSE, colClasses = data_types)
effective_2pt <- summarise(group_by(shots, name), total = length(which(shot_type == "2PT Field Goal")), made = length(which(shot_type == "2PT Field Goal"&shot_made_flag == "shot_yes")), perc_made = made/total)
effective_2pt <- arrange(effective_2pt, desc(perc_made))
effective_3pt <- summarise(group_by(shots, name), total = length(which(shot_type == "3PT Field Goal")), made = length(which(shot_type == "3PT Field Goal"&shot_made_flag == "shot_yes")), perc_made = made/total)
effective_3pt <- arrange(effective_3pt, desc(perc_made))
effective_pts = summarise(group_by(shots, name), total = length(which(shot_type == "3PT Field Goal" | shot_type == "2PT Field Goal")), made = length(which((shot_type == "3PT Field Goal" | shot_type == "2PT Field Goal")&shot_made_flag == "shot_yes")), perc_made = made/total)
effective_pts = arrange(effective_pts, desc(perc_made))
effective_pts
data_types = c("team_name"="character", "game_date"="character", "season" = "integer", "period"="integer",
"minutes_remaining"="integer", "seconds_remaining"="integer", "shot_made_flag"="character",
"action_type"="factor", "shot_type"="factor", "shot_distance"="integer", "opponent"="character",
"x"="integer", "y"="integer")
shots <- read.csv("../data/shots-data.csv", stringsAsFactors = FALSE, colClasses = data_types)
effective_2pt <- summarise(group_by(shots, name), total = length(which(shot_type == "2PT Field Goal")), made = length(which(shot_type == "2PT Field Goal"&shot_made_flag == "shot_yes")), perc_made = made/total)
effective_2pt <- arrange(effective_2pt, desc(perc_made))
effective_3pt <- summarise(group_by(shots, name), total = length(which(shot_type == "3PT Field Goal")), made = length(which(shot_type == "3PT Field Goal"&shot_made_flag == "shot_yes")), perc_made = made/total)
effective_3pt <- arrange(effective_3pt, desc(perc_made))
effective_pts = summarise(group_by(shots, name), total = length(which(shot_type == "3PT Field Goal" | shot_type == "2PT Field Goal")), made = length(which((shot_type == "3PT Field Goal" | shot_type == "2PT Field Goal")&shot_made_flag == "shot_yes")), perc_made = made/total)
effective_pts = arrange(effective_pts, desc(perc_made))
